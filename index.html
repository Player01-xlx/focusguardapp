<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FocusGuard - AI-Powered Focus Assistant</title>
    <meta name="description" content="Why struggle with distraction when AI can help you focus? FocusGuard learns your patterns to provide personalized recommendations, optimize session timing, and maximize productivity. Complete with achievements, smart task management, and detailed analytics - all while keeping your data private and secure." />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://focusguard.replit.app/">
    <meta property="og:title" content="FocusGuard - AI-Powered Focus Assistant">
    <meta property="og:description" content="Beat procrastination with AI that learns your productivity patterns. Smart recommendations, task management, and detailed analytics to maximize your focus sessions.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://focusguard.replit.app/">
    <meta property="twitter:title" content="FocusGuard - AI-Powered Focus Assistant">
    <meta property="twitter:description" content="Beat procrastination with AI that learns your productivity patterns. Smart recommendations, task management, and detailed analytics to maximize your focus sessions.">

    <!-- Keywords for SEO -->
    <meta name="keywords" content="pomodoro timer, AI productivity, focus app, time management, study timer, work productivity, concentration, distraction blocker, smart recommendations, analytics, achievements, task management">
    <meta name="author" content="FocusGuard Team">
    <meta name="robots" content="index, follow">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8192726439614235"
       crossorigin="anonymous"></script>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#000000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="FocusGuard" />
    <link rel="apple-touch-icon" href="/favicon.svg" />

    <!-- Offline-first meta -->
    <meta name="application-name" content="FocusGuard" />
    <meta name="description" content="AI-powered focus assistant that works offline" />

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>

    <script type="module" crossorigin src="/assets/main-1z8lRo50.js"></script>

    <!-- Service Worker Registration -->
    <script>
      // Register service worker for offline functionality
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('✅ Service Worker registered successfully:', registration.scope);

              // Listen for updates
              registration.addEventListener('updatefound', () => {
                const newWorker = registration.installing;
                if (newWorker) {
                  newWorker.addEventListener('statechange', () => {
                    if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                      // Show update notification
                      if (window.showUpdateNotification) {
                        window.showUpdateNotification();
                      }
                    }
                  });
                }
              });
            })
            .catch(error => {
              console.log('❌ Service Worker registration failed:', error);
            });
        });

        // Listen for service worker messages
        navigator.serviceWorker.addEventListener('message', event => {
          if (event.data && event.data.type === 'CONNECTION_RESTORED') {
            console.log('🌐 Connection restored at:', new Date(event.data.timestamp));
            if (window.handleConnectionRestored) {
              window.handleConnectionRestored();
            }
          }
        });
      }

      // Detect online/offline status
      window.addEventListener('online', () => {
        console.log('🌐 Connection restored');
        document.body.classList.remove('offline');
        if (window.handleConnectionRestored) {
          window.handleConnectionRestored();
        }
      });

      window.addEventListener('offline', () => {
        console.log('📵 Connection lost - running in offline mode');
        document.body.classList.add('offline');
        if (window.handleConnectionLost) {
          window.handleConnectionLost();
        }
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/index.jsx"></script>
  </body>
</html>